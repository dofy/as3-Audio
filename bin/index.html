<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8"/>
	<title>Audio</title>
	<meta name="description" content="" />
	
	<script src="js/swfobject.js"></script>
	<script>
		var flashvars = {
            fn: "audioJs"
		};
		var params = {
			menu: "false",
			scale: "noScale",
			allowScriptAccess: "always",
			bgcolor: "",
			wmode: "window" // can cause issues with FP settings & webcam
		};
		var attributes = {
			id:"Audio"
		};
		swfobject.embedSWF(
			"Audio.swf", 
			"altContent", "0", "0", "10.0.0", 
			"expressInstall.swf", 
			flashvars, params, attributes);
        
        var audioJs = {
            on_start: function(data)
            {
                debug(['start', data]);
            },
            on_pause: function(data)
            {
                debug(['pause', data.position]);
            },
            on_progress: function(data)
            {
                debug([Math.ceil(data.position) / 1000, Math.ceil(data.length) / 1000].join('/'));
            },
            on_vol_changed: function(data)
            {
                debug(['volume', data.volume]);
            },
            on_complete: function(data)
            {
                debug(['complete', data]);
            }
        };
        
        function debug(msg)
        {
            document.getElementById('debug').innerHTML = msg;
        }
        
        function callAudio(key, args)
        {
            document.getElementById('Audio').exec(key, args);
        }
	</script>
	<style>
		html, body { height:100%; overflow:hidden; }
		body { margin:0; }
	</style>
</head>
<body>
    <a href="javascript: callAudio('play', '01.mp3');">play 01</a>
    <a href="javascript: callAudio('play', '02.mp3');">play 02</a>
    <a href="javascript: callAudio('position', 10000);">position 10s</a>
    <br />
    <a href="javascript: callAudio('pause');">pause</a>
    <a href="javascript: callAudio('resume');">resume</a>
    <a href="javascript: callAudio('stop');">stop</a>
    <br />
    <a href="javascript: callAudio('vol', 0.3);">vol 0.3</a>
    <a href="javascript: callAudio('vol', 0.6);">vol 0.6</a>
    <a href="javascript: callAudio('vol', 0.9);">vol 0.9</a>
    <a href="javascript: callAudio('mute');">mute</a>
    
    <div id="debug">debug</div>
    
	<div id="altContent">
		<h1>Audio</h1>
		<p><a href="http://www.adobe.com/go/getflashplayer">Get Adobe Flash player</a></p>
	</div>
</body>
</html>